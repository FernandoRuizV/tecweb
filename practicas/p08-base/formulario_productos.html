<!DOCTYPE html >
<html>

  <head>
    <meta charset="utf-8" >
    <title>Registro de datos "Productos"</title>
    <style type="text/css">
      ol, ul { 
      list-style-type: none;
      }
    </style>
  </head>

  <body>
    <h1>Registro de datos</h1>

    <form id="formulario" action="http://localhost/tecweb/practicas/p08-base/set_producto_v2.php" method="post">

    <h2>Información</h2>

      <fieldset>
        <ul>
          <li><label for="form-name">Nombre:</label> <input type="text" name="nombre" id="form-name"></li><br>
          <li><label for="form-marca">Marca:</label> 
            <select id="form-marca">
              <option value="">Seleccione una marca</option>
              <option value="Oster">Oster</option>
              <option value="Tefal">Tefal</option>
              <option value="Tupperware">Tupperware</option>
              <option value="Tramontina">Tramontina</option>
            </select>
            
          </li><br>
          <li><label for="form-modelo">Modelo:</label> <input type="text" name="modelo" id="form-modelo"></li><br>
          <li><label for="form-precio">Precio:</label> <input type="number" step="0.01"   name="precio" id="form-precio"></li><br>
          <li><label for="form-detalles">Detalles:</label><textarea name="detalles" id="form-detalles"></textarea></li><br>
          <li><label for="form-unidades">Unidades:</label> <input type="number" name="unidades" id="form-unidades"></li><br>
          <li><label for="form-imagen">Imagen_url:</label> <input type="text" name="imagen" id="form-imagen"></li>

        </ul>
      </fieldset>

      <p>
        <input type="submit" value="Subir">
        <input type="reset">
      </p>

    </form>
    <script>
      document.getElementById("formulario").addEventListener("submit", function(event) {
          event.preventDefault();
          
          let nombre = document.getElementById("form-name").value.trim();
          let marca = document.getElementById("form-marca").value;
          let modelo = document.getElementById("form-modelo").value.trim();
          let precio = parseFloat(document.getElementById("form-precio").value);
          let detalles = document.getElementById("form-detalles").value.trim();
          let unidades = parseInt(document.getElementById("form-unidades").value);
          let imagen = document.getElementById("form-imagen").value.trim();
          
          if (!nombre) {
              alert("El nombre es requerido.");
              return;
          }
          if(nombre.length>100){
            alert("El nombre tener 100 o menos caracteres.")
            return;
          }
          if (!marca) {
              alert("La marca es requerida.");
              return;
          }
          if (!modelo.match(/^[A-Za-z0-9]+$/)) {
              alert("El modelo debe ser alfanumérico.");
              return;
          }
          if(modelo.length>25){
            alert("El modelo debe tener 25 caracteres o menos.");
            return;
          }
          if (!precio) {
            alert("El precio es requerido.");
            return;
        }
          if (precio < 100) {
              alert("El precio debe ser mayor a 99.99.");
              return;
          }
          if (detalles.length > 250) {
              alert("Los detalles no pueden exceder los 250 caracteres.");
              return;
          }
          if (!unidades) {
            alert("Las unidades son requeridas.");
            return;
        }
          if (unidades<0) {
              alert("Las unidades deben ser 0 o más.");
              return;
          }
          if (!imagen) {
              imagen = "img/imagen.png"; 
          }
          
          alert("Formulario enviado con éxito!");
      });
  </script>
  </body>
</html>